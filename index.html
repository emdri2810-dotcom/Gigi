<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Para mi nena de ojitos bonitos ğŸ¤</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <main class="paper">
    <header class="header">
      <div class="stamp">Hecho con amor</div>

      <h1>Nuestra historia ğŸ¤</h1>

      <p class="intro">
        Esta no es solo una pÃ¡gina webâ€¦<br>
        es un recuerdo, un sentimiento,<br>
        y un pedacito de mi corazÃ³n para ti.
      </p>
    </header>

    <!-- ğŸ“¸ GALERÃA -->
    <section class="gallery">
      <figure class="polaroid p1">
        <img src="foto1.jpg" alt="Foto 1">
        <figcaption>Un pedacito de nosotros</figcaption>
      </figure>

      <figure class="polaroid p2">
        <img src="foto2.jpg" alt="Foto 2">
        <figcaption>Mi lugar favorito</figcaption>
      </figure>

      <figure class="polaroid p3">
        <img src="foto3.jpg" alt="Foto 3">
        <figcaption>Donde estÃ¡s tÃº</figcaption>
      </figure>
    </section>

    <!-- ğŸ’• FRASES -->
    <section class="phrases">
      <p>â€œTe elijo incluso en los dÃ­as difÃ­ciles.â€</p>
      <p>â€œContigo, lo simple se vuelve especial.â€</p>
      <p>â€œSi esto es amorâ€¦ quÃ© suerte la mÃ­a.â€</p>
    </section>

    <!-- ğŸ’Œ BOTÃ“N -->
    <div class="boton-container">
      <button id="openLetter" class="btn">Lee esta carta ğŸ’Œ</button>
      <p class="tiny">TÃ³cala con calma ğŸ¤</p>
    </div>

    <footer class="footer">
      <p>Siempre tuya, <span class="firmita">Emy</span></p>
    </footer>
  </main>

  <!-- ğŸ’Œ CARTA -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-content">
      <button id="closeLetter" class="close">âœ–</button>

      <h2>Para ti, mi nena de ojitos bonitos</h2>

      <p>
        Desde que llegaste a mi vida, todo cambiÃ³.
        Los dÃ­as son mÃ¡s suaves, las noches mÃ¡s tranquilas
        y el futuro tiene sentido porque estÃ¡s tÃº.
      </p>

      <p>
        Gracias por quedarte, por cuidarme,
        por amarme de una forma tan real y sincera.
        Esta historia la quiero seguir escribiendo contigo,
        paso a paso, con amor.
      </p>

      <p class="firma">Con amor,<br>Emy ğŸ¤</p>
    </div>
  </div>

  <!-- ğŸŒ™ MENSAJE FINAL -->
  <div id="finalMessage" class="final-message" aria-hidden="true">
    Gracias por leerme con el corazÃ³n.<br>
    Si tÃº estÃ¡sâ€¦ yo estoy en casa. ğŸ¤
  </div>

  <!-- âœ¨ ESTRELLAS -->
  <div class="stars" id="stars"></div>

  <!-- ğŸ¶ MÃšSICA -->
  <audio id="music" loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>

  <!-- ğŸŒŸ SCRIPT ÃšNICO -->
  <script>
    const modal = document.getElementById("modal");
    const openBtn = document.getElementById("openLetter");
    const closeBtn = document.getElementById("closeLetter");
    const music = document.getElementById("music");
    const finalMessage = document.getElementById("finalMessage");
    const starsContainer = document.getElementById("stars");

    let starsInterval = null;

    function showFinalMessage() {
      finalMessage.classList.add("show");
      setTimeout(() => {
        finalMessage.classList.remove("show");
      }, 5000);
    }

    function createStar() {
      const star = document.createElement("div");
      star.className = "star";
      star.textContent = "âœ¦";

      star.style.left = Math.random() * 100 + "vw";
      star.style.fontSize = (Math.random() * 10 + 10) + "px";
      star.style.animationDuration = (Math.random() * 2 + 3) + "s";

      starsContainer.appendChild(star);
      setTimeout(() => star.remove(), 5200);
    }

    function startStars() {
      for (let i = 0; i < 12; i++) {
        setTimeout(createStar, i * 150);
      }

      starsInterval = setInterval(createStar, 280);
      setTimeout(() => clearInterval(starsInterval), 3500);
    }

    openBtn.addEventListener("click", () => {
      modal.classList.add("show");
      music.play().catch(() => {});
      startStars();
    });

    function closeModal() {
      modal.classList.remove("show");
      showFinalMessage();
    }

    closeBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
  </script>

</body>
</html>
